import{S as t,i as e,s as n,M as s,k as l,e as a,l as o,L as r,d as c,n as i,c as u,a as f,b as h,f as d,F as m,R as p,T as g,N as k,v as $,r as v,H as b,G as _,j as T,m as j,o as y,w as E,B as I,u as x,O as A,t as B,g as C}from"../../chunks/vendor-974ea28c.js";import{d as D}from"../../chunks/OMG_THIS_IS_HACKY_BUT_ITD_BE_A_DATABASE-85255ead.js";import S from"../items/ClickableThumb.svelte-5092995c.js";import{p as w}from"../../chunks/stores-c284218b.js";function H(t,e,n){const s=t.slice();return s[7]=e[n],s}function N(t){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function O(t){let e,n,s=t[1],l=[];for(let a=0;a<s.length;a+=1)l[a]=G(H(t,s,a));const o=t=>v(l[t],1,1,(()=>{l[t]=null}));return{c(){e=a("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=u(t,"DIV",{class:!0});var n=f(e);for(let e=0;e<l.length;e+=1)l[e].l(n);n.forEach(c),this.h()},h(){h(e,"class","gallery svelte-h2y16t")},m(t,s){d(t,e,s);for(let n=0;n<l.length;n+=1)l[n].m(e,null);n=!0},p(t,n){if(2&n){let a;for(s=t[1],a=0;a<s.length;a+=1){const o=H(t,s,a);l[a]?(l[a].p(o,n),$(l[a],1)):(l[a]=G(o),l[a].c(),$(l[a],1),l[a].m(e,null))}for(I(),a=s.length;a<l.length;a+=1)o(a);x()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)$(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)v(l[e]);n=!1},d(t){t&&c(e),A(l,t)}}}function G(t){let e,n;return e=new S({props:{datum:t[7],pid:t[7].pid}}),{c(){T(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){y(e,t,s),n=!0},p(t,n){const s={};2&n&&(s.datum=t[7]),2&n&&(s.pid=t[7].pid),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function M(t){let e;return{c(){e=B("Waiting for data....")},l(t){e=C(t,"Waiting for data....")},m(t,n){d(t,e,n)},p:_,i:_,o:_,d(t){t&&c(e)}}}function R(t){let e,n,b,_,T,j,y,E,I={ctx:t,current:null,token:null,hasCatch:!1,pending:M,then:O,catch:N,blocks:[,,,]};return s(D,I),{c(){e=l(),n=a("div"),b=a("input"),_=l(),T=o(),I.block.c(),this.h()},l(t){r('[data-svelte="svelte-19kvbf7"]',document.head).forEach(c),e=i(t),n=u(t,"DIV",{id:!0,class:!0});var s=f(n);b=u(s,"INPUT",{}),s.forEach(c),_=i(t),T=o(),I.block.l(t),this.h()},h(){document.title="Collections index",h(n,"id","filter"),h(n,"class","svelte-h2y16t")},m(s,l){d(s,e,l),d(s,n,l),m(n,b),p(b,t[0]),d(s,_,l),d(s,T,l),I.block.m(s,I.anchor=l),I.mount=()=>T.parentNode,I.anchor=T,j=!0,y||(E=g(b,"input",t[3]),y=!0)},p(e,[n]){t=e,1&n&&b.value!==t[0]&&p(b,t[0]),k(I,t,n)},i(t){j||($(I.block),j=!0)},o(t){for(let e=0;e<3;e+=1){const t=I.blocks[e];v(t)}j=!1},d(t){t&&c(e),t&&c(n),t&&c(_),t&&c(T),I.block.d(t),I.token=null,I=null,y=!1,E()}}}function U(t,e,n){let s,l,a;b(t,w,(t=>n(4,a=t)));const{collection:o,pid:r}=a.params;let c="";return t.$$.update=()=>{1&t.$$.dirty&&n(2,s=function(t){if(t.collection!==o)return!1;if(""===c)return!0;const e=new RegExp(c);for(let n of Object.keys(t))if(t[n].match&&t[n].match(e))return!0;return!1}),4&t.$$.dirty&&n(1,l=D.filter((t=>s(t))))},[c,l,s,function(){c=this.value,n(0,c)}]}export default class extends t{constructor(t){super(),e(this,t,U,R,n,{})}}
